<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEOS | ê²€ìƒ‰</title>
    <link rel="stylesheet" href="/css/search/searchComplete.css">
    <link rel="stylesheet" href="/css/fix/header.css">
    <link rel="stylesheet" href="/css/fix/loginHeader.css">
    <link rel="icon" type="image/x-icon" href="/images/fix/favicon.png">
    <style>
        .moreButtonBox{
            display: flex;
            flex-direction: row;
            box-sizing: border-box;
            justify-content: center;
            padding: 20px 0;
            align-items: center;
        }
        .moreButton{
            padding: 13px 24px;
            border: 1px solid #ced2d4;
            border-radius: 50px;
        }
    </style>
</head>

<body>
<header th:replace="/app/fix/header.html :: header"></header>
<div class="searchResultSection">

        <form th:action="@{/search/search}" method="post" name="searchForm" id="searchForm">
            <div class="searchInputWrap">
                    <input type="text" class="searchInput" placeholder="ê²€ìƒ‰ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”(ex. ì œëª©, í‚¤ì›Œë“œ)" name="keyword" value="" maxlength="30" autocomplete="off">

                <div class="inputBtnWrap">
                    <button type="button" class="inputDelBtn" style="display: none;">
                        <img loading="lazy" src="https://letspl.me/assets/images/ic-del.svg" alt="ì´ˆê¸°í™”">
                    </button>
                    <button type="button" class="inputSearchBtn">
                        <img loading="lazy" src="https://letspl.me/assets/images/ic-search.png" alt="ê²€ìƒ‰">
                    </button>
                </div>
            </div>
        </form>
    <!-- ==================================================================================================================== -->

    <th:block th:if="${keyword != null}">
        <div class="searchHistoryWrap" style="margin-bottom: 0px;"></div>
        <div class="searchResultTxtWrap">
            <h3 class="searchResultTxt">"<span th:text="${keyword}" id="keyword" th:value="${keyword}"></span>"ì— ëŒ€í•œ ê²€ìƒ‰ ê²°ê³¼&nbsp;<span class="totalCount" th:text="${total}">&nbsp;59</span>ê°œ
            </h3>
            <a th:href="@{/search/search}">
                <button type="button" class="inputinitBtn">
                    <span>ê²€ìƒ‰ ì´ˆê¸°í™”</span>
                    <img loading="lazy" src="https://letspl.me/assets/images/ic-del.svg" alt="ì´ˆê¸°í™”">
                </button>
            </a>
        </div>


        <th:block th:if="${total != 0}">
            <div class="searchResultList projectToplRightWrap projectLayoutRowFlex1 ">
                        <div class="subtitWrap">
                            <p class="subtit"> ìŠ¤í„°ë””
                                <th:block th:if="${studysize == 0}">
                                    <span>0</span>ê±´
                                </th:block>
                                <th:block th:unless="${studysize == 0}">
                                    <span class="studyCount" th:text="${studysize}">&nbsp;5</span>ê±´
                                </th:block>
                            </p>
                        </div>
                <div class="studyWrap">
                    <th:block th:each="study, studyStatus:${studys}" th:object="${study}">
                            <div class="recommendProjectlist">
                                <a class="studyDetail" th:href="*{studyId}" style="display:flex;">
                                    <div class="projectThumbWrap">
                                        <img th:if="*{studyType =='ì „ê³µ'}" class="buttonComponents_lgImg__2-hZO" src="https://letspl.s3.ap-northeast-2.amazonaws.com/images/project_thumb_12.png">
                                        <img th:if="*{studyType =='êµì–‘'}" class="buttonComponents_lgImg__2-hZO" src="https://letspl.s3.ap-northeast-2.amazonaws.com/images/project_thumb_01.png">
                                        <img th:if="*{studyType =='ê³µí†µ'}" class="buttonComponents_lgImg__2-hZO" src="https://letspl.s3.ap-northeast-2.amazonaws.com/images/project_thumb_05.png">
                                    </div>
                                    <div class="txtWrap" style="display: inline-grid;">
                                        <p class="tit" style="font-size: 20px;" th:text="*{studyTitle}">[ì„œìš¸] ì „ê¸°ì°¨ ì¶©ì „ìš´ì˜ í”Œë«í¼ ê°œë°œ</p>
                                        <p class="desTxt">
                                            <span th:text="*{studyContent}">
                                                    í”Œë«í¼ ì„œë¹„ìŠ¤ë¥¼ ì¤€ë¹„ì¤‘ì¸ ì˜ˆë¹„ì°½ì—… íŒ€ì…ë‹ˆë‹¤. í˜„ì¬ 4ëª…(ì´ê´„, ë””ìì¸1, ê°œë°œ1)ì˜ íŒ€ì›ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ì•± ê°œë°œì„ ì§„í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤. (30% ì™„ë£Œ, 11ì›” ì¶œì‹œ
                                                    ì˜ˆì •) ì „ê¸°ì°¨ ì‹œëŒ€ë¥¼ ë§ì´í•˜ì—¬ ì¶©ì „ ë¬¸í™”ì˜ í˜ì‹ ì„ ì£¼ë„í•  íŒ€ì›ì„ ëª¨ì§‘í•©ë‹ˆë‹¤.[ SCS íŒ€ êµ¬ì„±ì› ]
                                                    í˜„ì¬ ì €í¬ íŒ€ì€ ì´ëŸ°ì‹ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆì–´ìš”ğŸ‘¥
                                            </span>
                                        </p>
                                        <p class="typeTxt" style="font-size: 14px;" th:text="'#'+*{studyKeyword}">[ëª¨ì§‘ì¤‘] í¬ë¡œìŠ¤í”Œë«í¼</p>
                                    </div>
                                </a>
                            </div>
                    </th:block>
                </div>
                <th:block th:if="${studysize >= 5}">
                <div class="moreButtonBox">
                    <button type="button" class="moreButton studyBtn buttonComponents_button__1hvQa buttonComponents_radius__2l9SM buttonComponents_md__26Zib ">
                        ë” ë³´ê¸°
                    </button>
                </div>
                </th:block>
                </div>

            <div class="searchResultList projectCollectWrap storySection" style="padding: 0px 0px;">
            <div class="subtitWrap">
                <p class="subtit"> ìë£Œìƒì 
                    <th:block th:if="${storesize == 0}">
                        <span>0</span>ê±´
                    </th:block>
                    <th:block th:unless="${storesize == 0}">
                        <span class="storeCount" th:text="${storesize}">&nbsp;5</span>ê±´
                    </th:block>
                </p>
            </div>
            <div class="contents">
                <div class="contentsList">
                    <ul class="storeAdd">
                        <th:block th:each="store, storeStatus:${stores}" th:object="${store}">
                            <li>
                                <a class="storeDetail" th:href="*{storeId}">
                                    <div class="left">
                                        <div class="listTIt">
                                            <div class="categoryTitWrap">
                                                <span class="category2" th:text="*{storeStatus}">FREE</span>
                                                <p class="titTxt" th:text="*{storeTitle}">[ì–¸ë…¸ìš´ë‚˜ì´ì¸ ]ì‚¬ì´ë“œí”„ë¡œì íŠ¸ë¡œ ê²Œì„ ê°œë°œí•˜ê¸° 1/2</p>
                                            </div>
                                            <div class="previewTxt" th:utext="*{storeContent}">ï»¿ì´ ê¸€ì€ ì¸ë””ê²Œì„ ì œì‘ì‚¬ "Teamarex"ì—ì„œ ì§ì ‘ ì‘ì„±í•œ,"ì–¸ë…¸ìš´ ë‚˜ì´ì¸ "ê²Œì„ê°œë°œ í›„ê¸°ì—
                                                ëŒ€í•œ ë‚´ìš©ì…ë‹ˆë‹¤.ë ›í”Œì€ í•´ë‹¹ ê²Œì„ì˜ ê°œë°œ ë° ìˆ˜ìµê³¼ ë¬´ê´€í•˜ë©°, ì»¨í…ì¸  ê³µìœ ì˜ ëª©ì ì—ì„œ ì´ ìŠ¤í† ë¦¬ë¥¼ ì–‘ë„ë°›ì•„ ê²Œì¬í•©ë‹ˆë‹¤.ì‚¬ì´ë“œí”„ë¡œì íŠ¸ë¡œ
                                                ê²Œì„ê°œë°œí•˜ì‹œëŠ” ë¶„ë“¤ì—ê²Œ ë„ì›€ì´ ë˜ê¸¸ ë°”ëë‹ˆë‹¤.ì‚¬ì´ë“œí”„ë¡œì íŠ¸ì˜ ì‹œì‘
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </li>
                        </th:block>
                    </ul>
                    <th:block th:if="${storesize >= 5}">
                    <div class="moreButtonBox">
                        <button type="button" class="moreButton storeBtn buttonComponents_button__1hvQa buttonComponents_radius__2l9SM buttonComponents_md__26Zib ">
                            ë” ë³´ê¸°
                        </button>
                    </div>
                    </th:block>

                </div>
            </div>
        </div>
            <div style="margin: -35%;"></div>
        </th:block>

        <th:block th:if="${total == 0}">
            <div>
                <img src="/images/search/no-result.png" style="margin-top: 50px; max-width: 300px; height: auto; margin-left: 434px; margin-bottom: 27px;">
            </div>
            <div style="margin: -35%;"></div>
        </th:block>

    </th:block>
</div>
<div style="margin: 25.8%;"></div>


<div th:replace="/app/fix/footer.html :: footer"></div>
</body>
<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
<script>
/* ê²€ìƒ‰ ì·¨ì†Œ */
    var $ipt = $('.searchInput'),
        $clearIpt = $('.inputDelBtn');
    // var $look = $('.inputSearchBtn');

    $ipt.keyup(function(){
        $(".inputDelBtn").toggle(Boolean($(this).val()));
        // $(".inputSearchBtn").toggle(Boolean($(this).val()));
    });

    $clearIpt.toggle(Boolean($ipt.val()));
    // $look.toggle(Boolean($ipt.val()));

    $clearIpt.click(function(){
        $(".searchInput").val('').focus();
        $(this).hide();
        // $look.hide();
    });

    $(".inputSearchBtn").on("click", function(){
        let keyword = $(".searchInput").val();
        if(!keyword){
            alert("ë¹ˆ ë¬¸ìì—´ì€ ê²€ìƒ‰í•˜ì‹¤ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
        }

        $("#searchForm").submit();
    })

    /*ìŠ¤í„°ë”” ìƒì„¸ í˜ì´ì§€ ì´ë™ */
    $(".studyDetail").on("click", function (e) {
        e.preventDefault();
        location.href = "/study/list?studyId=" + $(this).attr("href");
    });

    /*ìë£Œìƒì  ìƒì„¸ í˜ì´ì§€ ì´ë™ */
    $(".storeDetail").on("click", function (e) {
        e.preventDefault();
        location.href = "/store/store-detail?storeId=" + $(this).attr("href");
    });

</script>
<script src="/js/search/searchAjax.js"></script>
<script src="/js/fix/login.js"></script>
<script src="/js/fix/header.js"></script>
</html>